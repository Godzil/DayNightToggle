<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day/Night Toggle Component</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX/TSX transformation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Styles -->
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
      body {
        font-family: 'Inter', sans-serif;
      }
      /* Custom Animations for twinkles */
      @keyframes twinkle {
        0%, 100% { opacity: 0.8; transform: scale(1); }
        50% { opacity: 0.4; transform: scale(0.8); }
      }
      .animate-spin-slow {
        animation: spin-slow 12s linear infinite;
      }
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <!-- React Application Logic -->
    <script type="text/babel" data-presets="react,typescript">
        const { useState, useMemo } = React;

        // --- Utils: Random Generator ---
        const getRandom = (seed) => {
            let s = seed % 2147483647;
            if (s <= 0) s += 2147483646;
            return () => {
                s = (s * 16807) % 2147483647;
                return (s - 1) / 2147483646;
            };
        };

        // --- Star Icon Component ---
        const StarIcon = ({ size = 24, className = '' }) => (
            <svg 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="currentColor" 
                className={className}
                xmlns="http://www.w3.org/2000/svg"
            >
                <path d="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z" />
            </svg>
        );

        // --- Day/Night Toggle Component (Updated Logic) ---
        const DayNightToggle = ({ isNight, onToggle, scale = 1, seed = 0 }) => {
            
            const handleKeyDown = (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    onToggle();
                }
            };

            // Generate stars based on seed
            const stars = useMemo(() => {
                const random = getRandom(seed + 12345);
                const generatedStars = [];
                const numStars = 4 + Math.floor(random() * 4); // 4 to 7 stars
                
                for (let i = 0; i < numStars; i++) {
                    const top = 15 + random() * 60; 
                    const left = 8 + random() * 45; 
                    const size = 10 + random() * 12;
                    const delay = random() * 3;
                    const duration = 2 + random() * 3;
                    const type = random() > 0.6 ? 'dot' : 'star';
                    
                    generatedStars.push({ id: i, top, left, size, delay, duration, type });
                }
                return generatedStars;
            }, [seed]);

            // Dimensions matching the latest React Component
            const contentWidth = 288; // w-72
            const contentHeight = 128; // h-32
            const borderWidth = 4;
            const totalWidth = contentWidth + (borderWidth * 2);
            const totalHeight = contentHeight + (borderWidth * 2);

            return (
                <div 
                  style={{ width: totalWidth * scale, height: totalHeight * scale }}
                  className="relative flex-shrink-0"
                >
                    <div
                        style={{ 
                            transform: `scale(${scale})`, 
                            transformOrigin: 'top left',
                            width: contentWidth, 
                            height: contentHeight 
                        }}
                        className={`
                            relative w-72 h-32 rounded-full cursor-pointer overflow-hidden transition-colors duration-700 ease-in-out 
                            shadow-[inset_0_4px_12px_rgba(0,0,0,0.3),inset_0_-2px_6px_rgba(255,255,255,0.2)]
                            border-4 box-content
                            ${isNight ? 'bg-[#1a1c29] border-slate-700/30' : 'bg-[#6EBFF7] border-slate-50/10'}
                            focus:outline-none focus:ring-4 focus:ring-blue-400/50
                        `}
                        onClick={onToggle}
                        onKeyDown={handleKeyDown}
                        role="switch"
                        aria-checked={isNight}
                        aria-label="Toggle Dark Mode"
                        tabIndex={0}
                    >
                    {/* Background Gradients */}
                    <div className={`absolute inset-0 transition-opacity duration-700 ${isNight ? 'opacity-100' : 'opacity-0'}`}>
                        <div className="absolute top-[-50%] left-[20%] w-64 h-64 rounded-full bg-white/5 blur-3xl"></div>
                        <div className="absolute bottom-[-20%] right-[10%] w-48 h-48 rounded-full bg-blue-500/10 blur-2xl"></div>
                    </div>
                    <div className={`absolute inset-0 transition-opacity duration-700 ${isNight ? 'opacity-0' : 'opacity-100'}`}>
                        <div className="absolute top-[-20%] right-[-10%] w-64 h-64 rounded-full bg-white/20 blur-2xl"></div>
                        <div className="absolute bottom-[-50%] left-[10%] w-56 h-56 rounded-full bg-blue-300/30 blur-2xl"></div>
                    </div>

                    {/* Generated Stars */}
                    {stars.map((star) => (
                        <div 
                            key={star.id} 
                            className={`absolute text-white transition-all duration-700`}
                            style={{
                                top: `${star.top}%`,
                                left: `${star.left}%`,
                                opacity: isNight ? (star.type === 'dot' ? 0.7 : 1) : 0,
                                transform: isNight ? 'translateY(0) scale(1)' : 'translateY(12px) scale(0)',
                                transitionDelay: `${star.delay * 0.1}s`
                            }}
                        >
                            {star.type === 'star' ? (
                                <div style={{ animation: `twinkle ${star.duration}s infinite ease-in-out`, animationDelay: `${star.delay}s` }}>
                                    <StarIcon size={star.size} />
                                </div>
                            ) : (
                                <div 
                                    className="bg-white rounded-full shadow-[0_0_4px_white]" 
                                    style={{ 
                                        width: Math.max(2, star.size/5), 
                                        height: Math.max(2, star.size/5),
                                        opacity: 0.8,
                                        animation: `twinkle ${star.duration}s infinite ease-in-out`,
                                        animationDelay: `${star.delay}s`
                                    }} 
                                />
                            )}
                        </div>
                    ))}

                    {/* Clouds */}
                    <div className={`absolute inset-0 transition-all duration-700 ease-in-out ${isNight ? 'translate-y-24 opacity-0' : 'translate-y-0 opacity-100'}`}>
                        <div className="absolute -bottom-6 right-0 w-32 h-32 bg-white/95 rounded-full mix-blend-normal"></div>
                        <div className="absolute -bottom-4 right-16 w-24 h-24 bg-white/90 rounded-full shadow-sm"></div>
                        <div className="absolute -bottom-8 right-32 w-28 h-28 bg-white/85 rounded-full"></div>
                        <div className="absolute -bottom-2 right-[-10px] w-20 h-20 bg-white/80 rounded-full"></div>
                        <div className="absolute -bottom-10 left-32 w-32 h-32 bg-white/60 rounded-full blur-sm"></div>
                    </div>

                    {/* Handle Wrapper */}
                    <div
                        className={`
                            absolute top-2 bottom-2 w-28 h-28 z-20
                            transition-all duration-700 ease-[cubic-bezier(0.68,-0.55,0.27,1.55)]
                            ${isNight ? 'translate-x-[10.5rem]' : 'translate-x-2'}
                        `}
                    >
                        {/* Sun Rays */}
                        <div className={`absolute inset-0 -z-10 transition-opacity duration-500 ${isNight ? 'opacity-0' : 'opacity-100'}`}>
                            <div className="w-full h-full relative animate-spin-slow">
                                {[...Array(8)].map((_, i) => (
                                    <div key={i} className="absolute top-1/2 left-1/2 w-32 h-1 bg-white/40 rounded-full" style={{ transform: `translate(-50%, -50%) rotate(${i * 45}deg) translateX(28px)` }}></div>
                                ))}
                                {[...Array(8)].map((_, i) => (
                                    <div key={`s-${i}`} className="absolute top-1/2 left-1/2 w-20 h-1 bg-yellow-200/30 rounded-full" style={{ transform: `translate(-50%, -50%) rotate(${i * 45 + 22.5}deg) translateX(24px)` }}></div>
                                ))}
                            </div>
                        </div>

                        {/* Sphere */}
                        <div className="relative w-full h-full rounded-full overflow-hidden shadow-[0_8px_20px_rgba(0,0,0,0.3),inset_0_-4px_4px_rgba(0,0,0,0.1),inset_0_4px_8px_rgba(255,255,255,0.6)]">
                            <div className="absolute inset-0 bg-[#FFD02D] transition-colors duration-500"></div>
                            <div className={`absolute inset-0 bg-[#D9DCE1] rounded-full transition-transform duration-700 ease-in-out ${isNight ? 'translate-x-0' : 'translate-x-full'}`}>
                                <div className="absolute top-4 right-6 w-6 h-6 bg-[#B0B5BB] rounded-full shadow-[inset_1px_1px_3px_rgba(0,0,0,0.3)]"></div>
                                <div className="absolute bottom-6 left-6 w-9 h-9 bg-[#B0B5BB] rounded-full shadow-[inset_1px_1px_3px_rgba(0,0,0,0.3)]"></div>
                                <div className="absolute bottom-8 right-8 w-4 h-4 bg-[#B0B5BB] rounded-full shadow-[inset_1px_1px_3px_rgba(0,0,0,0.3)]"></div>
                            </div>
                            <div className="absolute inset-0 rounded-full bg-gradient-to-br from-white/60 via-transparent to-black/5 opacity-100 pointer-events-none"></div>
                        </div>
                    </div>

                    </div>
                </div>
            );
        };

        // --- Demo Page Layout ---
        const DemoPage = () => {
            const [isNight, setIsNight] = useState(false);

            const toggle = () => setIsNight(!isNight);

            return (
                <div className={`min-h-screen w-full transition-colors duration-700 ${isNight ? 'bg-slate-900 text-slate-100' : 'bg-slate-50 text-slate-900'}`}>
                    
                    {/* Hero Section */}
                    <div className="container mx-auto px-6 py-20 flex flex-col items-center justify-center text-center gap-12">
                        <div className="space-y-4">
                            <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight">
                                Day/Night Toggle
                            </h1>
                            <p className={`text-lg md:text-xl max-w-2xl mx-auto ${isNight ? 'text-slate-400' : 'text-slate-600'}`}>
                                A scalable, animated React component with procedural star generation and complex CSS transitions.
                            </p>
                        </div>

                        {/* Main Demo */}
                        <div className={`p-12 rounded-3xl shadow-2xl border flex flex-col items-center gap-8 transition-colors duration-700 ${isNight ? 'bg-slate-800 border-slate-700' : 'bg-white border-slate-200'}`}>
                            <DayNightToggle isNight={isNight} onToggle={toggle} scale={1} seed={1} />
                            <p className="text-sm font-semibold tracking-widest uppercase opacity-50">Interactive Demo</p>
                        </div>
                    </div>

                    {/* Features Grid */}
                    <div className={`py-20 ${isNight ? 'bg-slate-800/50' : 'bg-slate-100'}`}>
                        <div className="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
                            
                            {/* Scalability Demo */}
                            <div className="flex flex-col gap-8">
                                <h3 className="text-2xl font-bold">Scalable Vector Graphics</h3>
                                <p className="opacity-70">The component accepts a <code>scale</code> prop, allowing it to resize perfectly without losing quality or layout integrity.</p>
                                
                                <div className={`p-8 rounded-xl border flex flex-col items-center gap-8 ${isNight ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200 shadow-sm'}`}>
                                    <div className="flex items-center gap-4">
                                        <div className="flex flex-col items-center gap-2">
                                            <DayNightToggle isNight={isNight} onToggle={toggle} scale={0.6} seed={1} />
                                            <span className="text-xs opacity-50">0.6x</span>
                                        </div>
                                        <div className="flex flex-col items-center gap-2">
                                            <DayNightToggle isNight={isNight} onToggle={toggle} scale={0.4} seed={1} />
                                            <span className="text-xs opacity-50">0.4x</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Procedural Generation Demo */}
                            <div className="flex flex-col gap-8">
                                <h3 className="text-2xl font-bold">Procedural Stars</h3>
                                <p className="opacity-70">Pass a different <code>seed</code> number to generate unique star constellations for the night mode.</p>
                                
                                <div className={`p-8 rounded-xl border flex flex-col items-center gap-8 ${isNight ? 'bg-slate-900 border-slate-700' : 'bg-white border-slate-200 shadow-sm'}`}>
                                    <div className="flex flex-wrap justify-center gap-6">
                                        <div className="flex flex-col items-center gap-2">
                                            <DayNightToggle isNight={true} onToggle={() => {}} scale={0.5} seed={123} />
                                            <span className="text-xs opacity-50">Seed 123</span>
                                        </div>
                                        <div className="flex flex-col items-center gap-2">
                                            <DayNightToggle isNight={true} onToggle={() => {}} scale={0.5} seed={999} />
                                            <span className="text-xs opacity-50">Seed 999</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    
                    <footer className="py-12 text-center opacity-50 text-sm">
                        <p>Built with React & Tailwind CSS.</p>
                    </footer>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DemoPage />);
    </script>
</body>
</html>